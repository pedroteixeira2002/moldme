name: Build & Test üß™ # Definimos o nome do nosso Workflow

on:
  push:
    branches:
      - master # Definimos o gatilho para nossa automa√ß√£o
      - dev/*

jobs:
  BuildAndTestApplication: # Criamos o job de build e testes
    runs-on: ubuntu-latest # Definimos o container/virtualiza√ß√£o
    
    steps:
      - name: Checkout code # Etapa de checkout do reposit√≥rio
        uses: actions/checkout@v3

      - name: Setup .NET Core # Etapa do setup .NET Core
        uses: actions/setup-dotnet@v3
        with:
          dotnet-version: '8.0.x' 

      - name: Restore dependencies # Etapa de restaura√ß√£o das depend√™ncias
        run: dotnet restore moldme/moldme.csproj # Caminho correto para o arquivo .csproj ou .sln

      - name: Build application # Etapa de build da aplica√ß√£o
        run: dotnet build moldme/moldme.csproj --no-restore --configuration Release

      - name: Test application # Etapa de testes da aplica√ß√£o
        run: dotnet test moldme/moldme.csproj --no-build --verbosity normal
